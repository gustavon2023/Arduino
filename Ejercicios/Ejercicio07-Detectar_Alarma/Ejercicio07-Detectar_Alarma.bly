<xml xmlns="http://www.w3.org/1999/xhtml"><block type="controls_setupLoop" id="1" deletable="false" x="0" y="0"><statement name="SETUP"><block type="variables_local" id="64" inline="false"><field name="VAR">analogValue</field><value name="VALUE"><block type="inout_analog_read" id="87" inline="true"><value name="PIN"><block type="pin_analog" id="96"><field name="PIN">A0</field></block></value></block></value><next><block type="controls_if" id="133" inline="false"><mutation else="1"></mutation><value name="IF0"><block type="logic_compare" id="146" inline="true"><field name="OP">GT</field><value name="A"><block type="variables_get" id="154"><field name="VAR">analogValue</field></block></value><value name="B"><block type="variables_get" id="162"><field name="VAR">threshold</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="174" inline="false"><field name="VAR">alarma</field><value name="VALUE"><block type="math_number" id="183"><field name="NUM">1</field></block></value></block></statement><statement name="ELSE"><block type="variables_set" id="184" inline="false"><field name="VAR">alarma</field><value name="VALUE"><block type="math_number" id="185"><field name="NUM">0</field></block></value></block></statement></block></next></block></statement><statement name="LOOP"><block type="variables_global" id="17" inline="false"><field name="VAR">alarma</field><value name="VALUE"><block type="math_number" id="33"><field name="NUM">0</field></block></value><next><block type="variables_global" id="47" inline="false"><field name="VAR">threshold</field><value name="VALUE"><block type="math_number" id="56"><field name="NUM">400</field></block></value><next><block type="variables_local" id="410" inline="false"><field name="VAR">analogValue</field><value name="VALUE"><block type="inout_analog_read" id="411" inline="true"><value name="PIN"><block type="pin_analog" id="412"><field name="PIN">A0</field></block></value></block></value><next><block type="controls_if" id="196" inline="false"><mutation else="1"></mutation><value name="IF0"><block type="logic_compare" id="197" inline="true"><field name="OP">GT</field><value name="A"><block type="variables_get" id="198"><field name="VAR">analogValue</field></block></value><value name="B"><block type="variables_get" id="199"><field name="VAR">threshold</field></block></value></block></value><statement name="DO0"><block type="controls_if" id="214" inline="false"><value name="IF0"><block type="logic_compare" id="219" inline="true"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="227"><field name="VAR">alarma</field></block></value><value name="B"><block type="math_number" id="228"><field name="NUM">0</field></block></value></block></value><statement name="DO0"><block type="inout_digital_write" id="237" inline="true"><field name="STAT">HIGH</field><value name="PIN"><block type="pin_digital" id="246"><field name="PIN">13</field></block></value><next><block type="variables_set" id="200" inline="false"><field name="VAR">alarma</field><value name="VALUE"><block type="math_number" id="201"><field name="NUM">1</field></block></value><next><block type="serial_println" id="330" inline="false"><value name="CONTENT"><block type="text" id="337"><field name="TEXT">ALARMA!!!!!!!!!!!!!!</field></block></value></block></next></block></next></block></statement></block></statement><statement name="ELSE"><block type="controls_if" id="338" inline="false"><value name="IF0"><block type="logic_compare" id="339" inline="true"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="340"><field name="VAR">alarma</field></block></value><value name="B"><block type="math_number" id="341"><field name="NUM">1</field></block></value></block></value><statement name="DO0"><block type="inout_digital_write" id="342" inline="true"><field name="STAT">LOW</field><value name="PIN"><block type="pin_digital" id="343"><field name="PIN">13</field></block></value><next><block type="variables_set" id="344" inline="false"><field name="VAR">alarma</field><value name="VALUE"><block type="math_number" id="345"><field name="NUM">0</field></block></value><next><block type="serial_println" id="346" inline="false"><value name="CONTENT"><block type="text" id="347"><field name="TEXT">ALARMA RECUPERADA</field></block></value></block></next></block></next></block></statement></block></statement><next><block type="serial_print" id="377" inline="false"><value name="CONTENT"><block type="variables_get" id="363"><field name="VAR">analogValue</field></block></value><next><block type="serial_print" id="376" inline="false"><value name="CONTENT"><block type="text" id="378"><field name="TEXT"> </field></block></value><next><block type="serial_print" id="382" inline="false"><value name="CONTENT"><block type="variables_get" id="379"><field name="VAR">threshold</field></block></value><next><block type="serial_print" id="380" inline="false"><value name="CONTENT"><block type="text" id="381"><field name="TEXT"> </field></block></value><next><block type="serial_println" id="348" inline="false"><value name="CONTENT"><block type="math_arithmetic" id="392" inline="true"><field name="OP">MULTIPLY</field><value name="A"><block type="variables_get" id="400"><field name="VAR">alarma</field></block></value><value name="B"><block type="math_number" id="409"><field name="NUM">1024</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>